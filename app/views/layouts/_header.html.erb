<nav class="border-gray-200 px-2 md:px-4 py-2.5 bg-gray-900">
  <div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl">
    <a href="#" class="flex items-center">
      <img src="https://flowbite.com/docs/images/logo.svg" class="mr-3 h-6 sm:h-9" alt="Flowbite Logo">
      <span class="self-center text-xl font-semibold whitespace-nowrap text-white">DOSI</span>
    </a>
    <div class="flex items-center md:order-2">

      <div data-controller="dropdown">
        <% if user_signed_in?  %>
          <button data-action="click->dropdown#toggleDropdown"
                  class="flex flex-row items-center space-x-2 w-full px-4 py-2 mt-2 font-semibold text-left bg-transparent md:w-auto md:inline md:mt-0 md:ml-4 text-gray-100">
            <span class= "rounded-md "><%#= current_user.name %> <%#= current_user.last_name %></span>
            <%# if current_user.avatar.attached? %>
              <%#= image_tag current_user.avatar, class: "inline w-10 h-10 rounded-full" %>
            <%# else %>
              <img class="inline h-10 w-10 rounded-full" src="https://st2.depositphotos.com/47577860/46283/v/450/depositphotos_462836132-stock-illustration-assassin-deadpool-face-icon.jpg" alt="">
            <%# end %>
          </button>
        <% else %>
          <%= link_to "Login", new_user_session_path, class: "text-white focus:ring-4 font-medium rounded-lg text-sm px-4 py-2 md:px-5 md:py-2.5 mr-1 md:mr-2 hover:bg-gray-700 focus:outline-none focus:ring-gray-800" %>
          <%= link_to "Sign up", new_user_registration_path, class: "text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 md:px-5 md:py-2.5 mr-1 md:mr-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800" %>
        <% end %>
        <div data-dropdown-target="dropdownContent"
             class="absolute right-0 w-full mt-2 origin-top-right rounded-md shadow-lg md:w-48 font-medium text-sm text-gray-400">
          <div class="origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 ring-1 ring-black ring-opacity-5 focus:outline-none bg-gray-700" >
            <%#= link_to(edit_user_registration_path, class: "block px-4 py-2 flex items-center text-gray-400 hover:text-blue-600 hover:text-blue-500 group") do %>
              <svg class="mr-2 w-4 h-4 text-gray-500 group-hover:text-blue-500" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>
              <span>Profile Settings</span>
            <%# end %>

            <%# if user_signed_in? #and current_user.workgroup == "admin" %>
              <div class="border-b border-gray-800"></div>
              <%#= link_to(office_dashboard_path, class: "block px-4 py-2 flex items-center text-gray-400 hover:text-blue-500 group") do %>
                <svg class="mr-2 w-4 h-4 text-gray-500 group-hover:text-blue-500" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"> <path d="M2.5 2v6h6M21.5 22v-6h-6"/><path d="M22 11.5A10 10 0 0 0 3.2 7.2M2 12.5a10 10 0 0 0 18.8 4.2"/></svg>
                <span>Office</span>
              <%# end %>
            <%# end %>
            <div class="border-b border-gray-800"></div>
            <%= link_to(destroy_user_session_path, class: "block px-4 py-2 flex items-center text-gray-400 hover:text-blue-500 group") do %>
              <svg class="mr-2 w-4 h-4 text-gray-500 group-hover:text-blue-500" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 17l5-5-5-5M19.8 12H9M10 3H4v18h6"/></svg>
              <span>Exit</span>
            <% end %>
          </div>
        </div>
      </div>

      <button type="button" class="inline-flex items-center p-2 ml-1 text-sm rounded-lg md:hidden focus:outline-none focus:ring-2 focus:ring-gray-200 text-gray-400 hover:bg-gray-700 dark:focus:ring-gray-600">
        <span class="sr-only">Open main menu</span>
        <svg aria-hidden="true" class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg>
      </button>
    </div>
    <div id="mega-menu-icons" class="hidden justify-between items-center w-full md:flex md:w-auto md:order-1">
      <ul class="flex flex-col mt-4 text-sm font-medium md:flex-row md:space-x-8 md:mt-0">
        <li>
          <%= link_to "Home", root_path, class: "block py-2 pr-4 pl-3 border-b md:hover:bg-transparent md:border-0 md:hover:text-blue-500 md:p-0 text-gray-400 hover:bg-gray-700 border-gray-700" %>
        </li>
        <li>
          <%= link_to "Team", root_path, class: "block py-2 pr-4 pl-3 text-gray-400 border-b md:hover:bg-transparent md:border-0 md:hover:text-blue-500 md:p-0 hover:bg-gray-700 border-gray-700" %>
        </li>
      </ul>
    </div>
  </div>
</nav>
